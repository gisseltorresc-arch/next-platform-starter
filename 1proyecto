<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invita y gana con Nequi</title>
  <meta name="description" content="Comparte tu código de invitación Nequi y gana dinero por cada registro exitoso." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f0f13;
      --card:#171720;
      --text:#ffffff;
      --muted:#b7b7c9;
      --primary:#7a00ff;
      --primary-2:#a46cff;
      --accent:#35e7b5; /* toque tropical */
      --success:#16c784;
      --error:#ff4d4f;
      --border:#262636;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 10% -10%, #1c1630 0%, var(--bg) 60%);
      color:var(--text);
    }
    a{color:var(--primary)}
    .container{max-width:960px; margin:0 auto; padding:24px}
    header{
      display:flex; align-items:center; justify-content:space-between; gap:16px; padding:20px 0;
    }
    .brand{display:flex; align-items:center; gap:12px}
    .logo{
      width:40px; height:40px; border-radius:10px; background:
      conic-gradient(from 180deg at 50% 50%, var(--primary), var(--accent), var(--primary-2), var(--primary));
      box-shadow:0 0 24px rgba(122,0,255,.35);
    }
    .title{font-weight:700; font-size:1.25rem}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0) 40%), var(--card);
      border:1px solid var(--border); border-radius:16px; padding:20px; box-shadow:0 8px 32px rgba(0,0,0,.35);
    }
    .hero{
      display:grid; grid-template-columns:1.1fr .9fr; gap:24px;
    }
    @media (max-width:860px){ .hero{grid-template-columns:1fr} }
    h1{font-size:2rem; margin:8px 0 8px}
    .sub{color:var(--muted)}
    .cta{
      display:flex; gap:12px; flex-wrap:wrap; margin-top:16px;
    }
    .btn{
      background:var(--primary); color:#fff; border:none; border-radius:10px; padding:12px 16px;
      font-weight:600; cursor:pointer; box-shadow:0 8px 24px rgba(122,0,255,.35); transition:transform .06s ease;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn.secondary{background:#27273a; border:1px solid var(--border); box-shadow:none}
    .section{margin-top:28px}
    .steps{display:grid; grid-template-columns:repeat(4,1fr); gap:14px}
    @media (max-width:860px){ .steps{grid-template-columns:1fr 1fr} }
    .step{background:#151524; border:1px solid var(--border); border-radius:14px; padding:16px}
    .step h3{margin:0 0 6px; font-size:1rem}
    .step p{margin:0; color:var(--muted)}
    .label{font-size:.8rem; color:var(--muted); margin-bottom:6px}
    .input{
      width:100%; padding:12px; background:#0f0f18; color:var(--text); border:1px solid var(--border);
      border-radius:10px; outline:none;
    }
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:14px}
    @media (max-width:680px){ .grid{grid-template-columns:1fr} }
    .share{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .chip{
      display:inline-flex; align-items:center; gap:8px; background:#10101a; border:1px solid var(--border);
      padding:10px 12px; border-radius:999px; cursor:pointer; color:#fff; font-weight:600;
    }
    .chip svg{width:18px; height:18px}
    .muted{color:var(--muted)}
    .note{font-size:.9rem; color:var(--muted)}
    .footer{margin-top:28px; color:var(--muted); font-size:.85rem}
    .money{color:var(--accent); font-weight:700}
    .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; background:#0c0c14; border:1px solid var(--border); padding:2px 6px; border-radius:6px}
    .codebox{background:#0f0f18; border:1px dashed var(--border); border-radius:10px; padding:12px; font-family:ui-monospace, monospace; overflow:auto}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div class="title">Invita y gana con Nequi</div>
          <div class="sub">Comparte tu código y recibe dinero por cada registro exitoso.</div>
        </div>
      </div>
      <button class="btn secondary" id="downloadAppBtn">Descargar app Nequi</button>
    </header>

    <section class="hero card">
      <div>
        <h1>¿Cómo funciona?</h1>
        <div class="steps">
          <div class="step">
            <h3>1️⃣ Crea tu cuenta Nequi</h3>
            <p>Descarga la app y regístrate con tu cédula y número de celular.</p>
          </div>
          <div class="step">
            <h3>2️⃣ Encuentra tu código</h3>
            <p>Ve a tu perfil en la app y copia tu código personal.</p>
          </div>
          <div class="step">
            <h3>3️⃣ Comparte tu link</h3>
            <p>Envía tu código por teléfono, correo o redes.</p>
          </div>
          <div class="step">
            <h3>4️⃣ ¡Gana dinero!</h3>
            <p>Por cada registro exitoso, ambos reciben <span class="money">$1.000 COP</span> en sus cuentas.</p>
          </div>
        </div>

        <div class="section">
          <div class="label">Tu código de invitación</div>
          <div class="grid">
            <input class="input" id="inviteCode" placeholder="Ej: NEQUI-1234" />
            <input class="input" id="displayName" placeholder="Tu nombre (opcional)" />
          </div>
          <div class="cta">
            <button class="btn" id="generateLinkBtn">Generar link para compartir</button>
            <button class="btn secondary" id="copyLinkBtn">Copiar link</button>
          </div>
          <p class="note">Tu link incluirá tu código para que tus invitados lo usen al registrarse.</p>
        </div>
      </div>

      <div>
        <div class="label">Link generado</div>
        <div class="codebox" id="shareUrlBox">Aún no has generado tu link.</div>

        <div class="section">
          <div class="label">Compartir</div>
          <div class="share">
            <button class="chip" id="sharePhone">
              <!-- phone icon -->
              <svg viewBox="0 0 24 24" fill="none"><path d="M6.5 3h3l1 4-2 1c1 3.5 3.5 6 7 7l1-2 4 1v3c0 1.1-.9 2-2 2C9.5 19 5 14.5 5 6.5c0-1.1.9-2 2-2Z" stroke="currentColor" stroke-width="1.5"/></svg>
              Teléfono
            </button>
            <button class="chip" id="shareEmail">
              <!-- email icon -->
              <svg viewBox="0 0 24 24" fill="none"><path d="M4 6h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.5"/><path d="M4 8l8 6 8-6" stroke="currentColor" stroke-width="1.5"/></svg>
              Correo
            </button>
            <button class="chip" id="shareNative">
              <!-- share icon -->
              <svg viewBox="0 0 24 24" fill="none"><path d="M12 5l5 5h-3v4h-4v-4H7l5-5Z" stroke="currentColor" stroke-width="1.5"/><path d="M5 19h14" stroke="currentColor" stroke-width="1.5"/></svg>
              Compartir
            </button>
          </div>
          <p class="note">Usa las opciones para enviar el link y tu código a tus contactos.</p>
        </div>
      </div>
    </section>

    <section class="card section">
      <h2>Consejos para ganar más</h2>
      <ul>
        <li><span class="kbd">Tip</span> Comparte en grupos de WhatsApp y Telegram donde confíen en ti.</li>
        <li><span class="kbd">Tip</span> Publica tu link en tu bio de Instagram, TikTok y X.</li>
        <li><span class="kbd">Tip</span> Explica en una frase que ambos reciben <span class="money">$1.000 COP</span>.</li>
      </ul>
    </section>

    <div class="footer">
      <p class="muted">Este sitio no es oficial de Nequi. Verifica siempre los términos de la promoción en la app.</p>
    </div>
  </div>

  <script>
    // ——— Configuración ———
    const BASE_SHARE_URL = "https://tusitio.com/invitar"; // cámbialo por tu dominio
    const APP_DOWNLOAD_URL = "https://www.nequi.com.co/"; // enlace general (ajusta si tienes uno específico)

    // ——— Utilidades ———
    const inviteCodeEl = document.getElementById("inviteCode");
    const displayNameEl = document.getElementById("displayName");
    const shareUrlBox = document.getElementById("shareUrlBox");

    const generateLinkBtn = document.getElementById("generateLinkBtn");
    const copyLinkBtn = document.getElementById("copyLinkBtn");

    const sharePhoneBtn = document.getElementById("sharePhone");
    const shareEmailBtn = document.getElementById("shareEmail");
    const shareNativeBtn = document.getElementById("shareNative");
    const downloadAppBtn = document.getElementById("downloadAppBtn");

    function sanitizeCode(code){
      return (code || "")
        .trim()
        .toUpperCase()
        .replace(/[^\w\-]/g, "");
    }

    function makeShareUrl(code, name){
      const params = new URLSearchParams();
      params.set("code", code);
      if(name && name.trim()) params.set("ref", name.trim());
      return BASE_SHARE_URL + "?" + params.toString();
    }

    function setShareUrl(url){
      shareUrlBox.textContent = url || "Aún no has generado tu link.";
    }

    function getShareText(code){
      return `¡Únete a Nequi! Usa mi código ${code} al registrarte y ambos recibimos $1.000 COP.`;
    }

    // ——— Acciones ———
    generateLinkBtn.addEventListener("click", ()=>{
      const code = sanitizeCode(inviteCodeEl.value);
      const name = displayNameEl.value || "";
      if(!code){
        alert("Ingresa tu código de invitación.");
        return;
      }
      const url = makeShareUrl(code, name);
      setShareUrl(url);
    });

    copyLinkBtn.addEventListener("click", async ()=>{
      const text = shareUrlBox.textContent;
      if(!text || text.includes("Aún no")){
        alert("Primero genera tu link.");
        return;
      }
      try{
        await navigator.clipboard.writeText(text);
        alert("Link copiado al portapapeles.");
      }catch(err){
        console.log(err);
        alert("No se pudo copiar. Selecciona y copia manualmente.");
      }
    });

    sharePhoneBtn.addEventListener("click", ()=>{
      const code = sanitizeCode(inviteCodeEl.value);
      const name = displayNameEl.value || "";
      if(!code){ alert("Ingresa tu código de invitación."); return; }
      const url = makeShareUrl(code, name);
      const smsText = encodeURIComponent(`${getShareText(code)}\n${url}`);
      window.location.href = `sms:?&body=${smsText}`;
    });

    shareEmailBtn.addEventListener("click", ()=>{
      const code = sanitizeCode(inviteCodeEl.value);
      const name = displayNameEl.value || "";
      if(!code){ alert("Ingresa tu código de invitación."); return; }
      const url = makeShareUrl(code, name);
      const subject = encodeURIComponent("Invitación a Nequi");
      const body = encodeURIComponent(`${getShareText(code)}\n\nRegístrate aquí:\n${url}`);
      window.location.href = `mailto:?subject=${subject}&body=${body}`;
    });

    shareNativeBtn.addEventListener("click", async ()=>{
      const code = sanitizeCode(inviteCodeEl.value);
      const name = displayNameEl.value || "";
      if(!code){ alert("Ingresa tu código de invitación."); return; }
      const url = makeShareUrl(code, name);
      const text = getShareText(code);
      if(navigator.share){
        try{
          await navigator.share({ title: "Invita a Nequi", text, url });
        }catch(e){
          console.log("Cancelado o error", e);
        }
      }else{
        alert("Tu navegador no soporta compartir nativo. Usa copiar link.");
      }
    });

    downloadAppBtn.addEventListener("click", ()=>{
      window.open(APP_DOWNLOAD_URL, "_blank");
    });

    // ——— Si llega alguien con un código, muéstralo ———
    // Ej: https://tusitio.com/invitar?code=NEQUI-1234&ref=TuNombre
    (function prefillFromQuery(){
      const q = new URLSearchParams(location.search);
      const code = q.get("code"); const ref = q.get("ref");
      if(code){ inviteCodeEl.value = code; setShareUrl(makeShareUrl(code, ref || "")); }
      if(ref){ displayNameEl.value = ref; }
    })();
  </script>
</body>
</html>
